<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§è‡§®‡•Ä‡§Æ‡•á - ‡§Ö‡§∏‡§≤‡•Ä ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Æ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ‡§´‡•â‡§®‡•ç‡§ü ‡§Ö‡§µ‡•á‡§∏‡§Æ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0a0f1f; color: white; font-family: 'Segoe UI', system-ui, sans-serif; }
        
        /* ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® ‡§¨‡§æ‡§∞ */
        .navbar { background: #141b2b; padding: 15px; border-bottom: 2px solid #e50914; position: sticky; top: 0; z-index: 50; }
        .logo { color: #ffd700; font-size: 24px; font-weight: bold; cursor: pointer; }
        
        /* ‡§è‡§®‡•Ä‡§Æ‡•á ‡§ï‡§æ‡§∞‡•ç‡§° */
        .anime-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 20px; padding: 20px; margin-bottom: 70px; }
        .anime-card { background: #1e2638; border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.3s ease; border: 1px solid #2a3442; }
        .anime-card:hover { transform: scale(1.03); box-shadow: 0 10px 25px rgba(229, 9, 20, 0.3); border-color: #e50914; }
        .anime-card img { width: 100%; height: 200px; object-fit: cover; }
        .anime-card-content { padding: 12px; background: #1a2230; }
        .anime-title { font-weight: bold; font-size: 15px; margin-bottom: 4px; color: #fff; }
        .anime-episodes { color: #ffd700; font-size: 12px; }
        .anime-year { color: #aaa; font-size: 11px; margin-top: 4px; }
        
        /* ‡§™‡•ç‡§≤‡•á‡§Ø‡§∞ ‡§ì‡§µ‡§∞‡§≤‡•á */
        .player-overlay { position: fixed; inset: 0; background: black; z-index: 1000; display: none; flex-direction: column; }
        .player-header { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #111; border-bottom: 2px solid #e50914; }
        .close-btn { background: #e50914; border: none; color: white; padding: 8px 25px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .close-btn:hover { background: #ff0a1f; }
        
        /* ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§¨‡§æ‡§∞ */
        .episodes-bar { background: #1a1a1a; padding: 12px; overflow-x: auto; white-space: nowrap; border-bottom: 1px solid #333; }
        .episode-btn { background: #2a2a2a; border: none; color: white; padding: 8px 18px; margin: 0 5px; border-radius: 20px; cursor: pointer; transition: all 0.2s; font-size: 14px; }
        .episode-btn:hover { background: #444; }
        .episode-btn.active { background: #e50914; font-weight: bold; box-shadow: 0 0 10px #e50914; }
        
        /* ‡§Ü‡§à‡§´‡•ç‡§∞‡•á‡§Æ */
        #embed-player { width: 100%; height: calc(100% - 120px); border: none; background: black; }
        
        /* ‡§¨‡•â‡§ü‡§Æ ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #141b2b; border-top: 2px solid #e50914; display: flex; padding: 10px 0; z-index: 50; }
        .nav-item { flex: 1; text-align: center; color: #aaa; cursor: pointer; transition: color 0.2s; }
        .nav-item.active { color: #ffd700; }
        .nav-item i { font-size: 22px; display: block; margin-bottom: 3px; }
        .nav-item span { font-size: 12px; }
        
        /* ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä ‡§ü‡•à‡§¨ */
        .category-tabs { display: flex; gap: 10px; padding: 15px; overflow-x: auto; background: #1a2230; margin: 10px 0; border-radius: 30px; }
        .category-tab { background: #2a3442; padding: 8px 20px; border-radius: 25px; cursor: pointer; white-space: nowrap; }
        .category-tab.active { background: #e50914; }
        
        .hide { display: none; }
        .back-home { color: #ffd700; cursor: pointer; margin: 15px; display: inline-block; }
        .back-home:hover { text-decoration: underline; }
    </style>
</head>

    <body>
<!-- ========== ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§™‡•ç‡§≤‡•á‡§Ø‡§∞ (‡§è‡§Æ‡•ç‡§¨‡•á‡§°) ========== -->
<div class="player-overlay" id="player">
    <div class="player-header">
        <h3 id="playerTitle" class="text-lg font-semibold">Now Playing</h3>
        <button class="close-btn" onclick="closePlayer()">‚úï Close</button>
    </div>
    <div id="episodesBar" class="episodes-bar"></div>
    <iframe id="embed-player" src="" allowfullscreen></iframe>
</div>

<!-- ========== ‡§π‡•á‡§°‡§∞ ========== -->
<div class="navbar flex justify-between items-center">
    <div class="logo" onclick="resetToHome()">üé¨ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§è‡§®‡•Ä‡§Æ‡•á</div>
    <div class="text-sm text-gray-400"><i class="fas fa-database mr-1"></i> 30+ ‡§∏‡•Ä‡§∞‡•Ä‡§ú ‚Ä¢ 2000+ ‡§è‡§™‡§ø‡§∏‡•ã‡§°</div>
</div>

<!-- ========== ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä ‡§ü‡•à‡§¨ ========== -->
<div class="category-tabs">
    <span class="category-tab active" onclick="filterAnime('all', this)">‡§∏‡§≠‡•Ä</span>
    <span class="category-tab" onclick="filterAnime('trending', this)">üî• ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó</span>
    <span class="category-tab" onclick="filterAnime('action', this)">‚öîÔ∏è ‡§è‡§ï‡•ç‡§∂‡§®</span>
    <span class="category-tab" onclick="filterAnime('adventure', this)">üó∫Ô∏è ‡§è‡§°‡§µ‡•á‡§Ç‡§ö‡§∞</span>
    <span class="category-tab" onclick="filterAnime('fantasy', this)">‚ú® ‡§´‡•à‡§Ç‡§ü‡•á‡§∏‡•Ä</span>
    <span class="category-tab" onclick="filterAnime('top-rated', this)">üèÜ ‡§ü‡•â‡§™ ‡§∞‡•á‡§ü‡•á‡§°</span>
</div>

<!-- ========== ‡§π‡•ã‡§Æ ‡§™‡•á‡§ú ========== -->
<div id="home" style="padding: 0 15px 70px 15px;">
    <div id="animeContainer"></div>
</div>

<!-- ========== ‡§¨‡•â‡§ü‡§Æ ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® ========== -->
<div class="bottom-nav">
    <div class="nav-item active" onclick="showHome()"><i class="fas fa-home"></i><span>‡§π‡•ã‡§Æ</span></div>
    <div class="nav-item" onclick="history.back()"><i class="fas fa-arrow-left"></i><span>‡§¨‡•à‡§ï</span></div>
</div>

        <script>
    // ============================================
    // ‡§∏‡§æ‡§∞‡•á ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§è‡§®‡•Ä‡§Æ‡•á ‡§ï‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü (IMDB ‡§î‡§∞ MAL ‡§ü‡•â‡§™ ‡§∞‡•á‡§ü‡•á‡§°) 
    // ============================================
    const trendingAnime = [
        // ‡§ü‡•â‡§™ 10 - ‡§∏‡§¨‡§∏‡•á ‡§™‡•â‡§™‡•Å‡§≤‡§∞
        { id: 1, title: 'Fullmetal Alchemist: Brotherhood', year: '2009-2010', episodes: 64, image: 'https://cdn.myanimelist.net/images/anime/1223/96541.jpg', rating: 9.1, category: 'top-rated' },
        { id: 2, title: 'Steins;Gate', year: '2011', episodes: 24, image: 'https://cdn.myanimelist.net/images/anime/1935/127974.jpg', rating: 9.0, category: 'top-rated' },
        { id: 3, title: 'Cowboy Bebop', year: '1998-1999', episodes: 26, image: 'https://cdn.myanimelist.net/images/anime/4/19644.jpg', rating: 8.9, category: 'top-rated' },
        { id: 4, title: 'Attack on Titan', year: '2013-2023', episodes: 94, image: 'https://cdn.myanimelist.net/images/anime/10/47347.jpg', rating: 9.0, category: 'trending' },
        { id: 5, title: 'Death Note', year: '2006-2007', episodes: 37, image: 'https://cdn.myanimelist.net/images/anime/9/9453.jpg', rating: 8.9, category: 'top-rated' },
        { id: 6, title: 'One Piece', year: '1999-', episodes: 1000, image: 'https://cdn.myanimelist.net/images/anime/6/73245.jpg', rating: 9.0, category: 'adventure' },
        
        // ‡§è‡§ï‡•ç‡§∂‡§® ‡§è‡§®‡•Ä‡§Æ‡•á
        { id: 7, title: 'Naruto', year: '2002-2007', episodes: 220, image: 'https://cdn.myanimelist.net/images/anime/13/17405.jpg', rating: 8.3, category: 'action' },
        { id: 8, title: 'Naruto Shippuden', year: '2007-2017', episodes: 500, image: 'https://cdn.myanimelist.net/images/anime/5/17407.jpg', rating: 8.6, category: 'action' },
        { id: 9, title: 'Dragon Ball Z', year: '1989-1996', episodes: 291, image: 'https://cdn.myanimelist.net/images/anime/1607/117271.jpg', rating: 8.5, category: 'action' },
        { id: 10, title: 'Demon Slayer', year: '2019-2024', episodes: 63, image: 'https://cdn.myanimelist.net/images/anime/1286/99889.jpg', rating: 8.7, category: 'trending' },
        { id: 11, title: 'Jujutsu Kaisen', year: '2020-2023', episodes: 47, image: 'https://cdn.myanimelist.net/images/anime/1171/109222.jpg', rating: 8.8, category: 'trending' },
        { id: 12, title: 'Chainsaw Man', year: '2022', episodes: 12, image: 'https://cdn.myanimelist.net/images/anime/1806/126216.jpg', rating: 8.6, category: 'trending' },
        
        // ‡§´‡•à‡§Ç‡§ü‡•á‡§∏‡•Ä ‡§è‡§®‡•Ä‡§Æ‡•á
        { id: 13, title: 'Hunter x Hunter', year: '2011-2014', episodes: 148, image: 'https://cdn.myanimelist.net/images/anime/11/33657.jpg', rating: 9.0, category: 'fantasy' },
        { id: 14, title: 'Mushoku Tensei', year: '2021-2024', episodes: 37, image: 'https://cdn.myanimelist.net/images/anime/1530/117776.jpg', rating: 8.6, category: 'fantasy' },
        { id: 15, title: 'Re:Zero', year: '2016-2024', episodes: 50, image: 'https://cdn.myanimelist.net/images/anime/1126/108573.jpg', rating: 8.7, category: 'fantasy' },
        { id: 16, title: 'That Time I Got Reincarnated as a Slime', year: '2018-2024', episodes: 72, image: 'https://cdn.myanimelist.net/images/anime/1141/112503.jpg', rating: 8.4, category: 'fantasy' },
        
        // ‡§è‡§°‡§µ‡•á‡§Ç‡§ö‡§∞ ‡§è‡§®‡•Ä‡§Æ‡•á
        { id: 17, title: 'Mushishi', year: '2005-2014', episodes: 46, image: 'https://cdn.myanimelist.net/images/anime/2/73862.jpg', rating: 8.9, category: 'adventure' },
        { id: 18, title: 'Made in Abyss', year: '2017-2022', episodes: 25, image: 'https://cdn.myanimelist.net/images/anime/9/87044.jpg', rating: 8.8, category: 'adventure' },
        { id: 19, title: 'Sword Art Online', year: '2012-2020', episodes: 96, image: 'https://cdn.myanimelist.net/images/anime/11/39717.jpg', rating: 7.5, category: 'adventure' },
        
        // ‡§î‡§∞ ‡§≠‡•Ä ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§è‡§®‡•Ä‡§Æ‡•á
        { id: 20, title: 'Code Geass', year: '2006-2008', episodes: 50, image: 'https://cdn.myanimelist.net/images/anime/5/50331.jpg', rating: 8.9, category: 'action' },
        { id: 21, title: 'Bleach', year: '2004-2012', episodes: 366, image: 'https://cdn.myanimelist.net/images/anime/3/40451.jpg', rating: 8.2, category: 'action' },
        { id: 22, title: 'Tokyo Revengers', year: '2021-2023', episodes: 50, image: 'https://cdn.myanimelist.net/images/anime/1839/122012.jpg', rating: 7.9, category: 'trending' },
        { id: 23, title: 'My Hero Academia', year: '2016-2024', episodes: 138, image: 'https://cdn.myanimelist.net/images/anime/10/78745.jpg', rating: 8.3, category: 'action' },
        { id: 24, title: 'Black Clover', year: '2017-2021', episodes: 170, image: 'https://cdn.myanimelist.net/images/anime/2/79553.jpg', rating: 8.1, category: 'action' },
        { id: 25, title: 'Fairy Tail', year: '2009-2019', episodes: 328, image: 'https://cdn.myanimelist.net/images/anime/5/18179.jpg', rating: 8.1, category: 'adventure' },
        { id: 26, title: 'Berserk', year: '1997-1998', episodes: 25, image: 'https://cdn.myanimelist.net/images/anime/1228/111372.jpg', rating: 8.7, category: 'action' },
        { id: 27, title: 'Vinland Saga', year: '2019-2023', episodes: 48, image: 'https://cdn.myanimelist.net/images/anime/1500/103005.jpg', rating: 8.8, category: 'trending' },
        { id: 28, title: 'Mob Psycho 100', year: '2016-2022', episodes: 37, image: 'https://cdn.myanimelist.net/images/anime/1918/96303.jpg', rating: 8.7, category: 'trending' },
        { id: 29, title: 'One Punch Man', year: '2015-2019', episodes: 24, image: 'https://cdn.myanimelist.net/images/anime/12/76049.jpg', rating: 8.5, category: 'action' },
        { id: 30, title: 'Spy x Family', year: '2022-2023', episodes: 37, image: 'https://cdn.myanimelist.net/images/anime/1441/122795.jpg', rating: 8.6, category: 'trending' },
        { id: 31, title: 'Haikyuu!!', year: '2014-2020', episodes: 85, image: 'https://cdn.myanimelist.net/images/anime/7/76014.jpg', rating: 8.7, category: 'top-rated' },
        { id: 32, title: 'Parasyte', year: '2014-2015', episodes: 24, image: 'https://cdn.myanimelist.net/images/anime/3/73178.jpg', rating: 8.5, category: 'action' },
        { id: 33, title: 'Erased', year: '2016', episodes: 12, image: 'https://cdn.myanimelist.net/images/anime/10/77957.jpg', rating: 8.5, category: 'top-rated' },
        { id: 34, title: 'Your Lie in April', year: '2014-2015', episodes: 22, image: 'https://cdn.myanimelist.net/images/anime/3/67177.jpg', rating: 8.9, category: 'top-rated' }
    ];

            // 6 ‡§≠‡§∞‡•ã‡§∏‡•á‡§Æ‡§Ç‡§¶ ‡§è‡§Æ‡•ç‡§¨‡•á‡§° ‡§∏‡•ã‡§∞‡•ç‡§∏ (‡§Ö‡§ó‡§∞ ‡§è‡§ï ‡§¨‡§Ç‡§¶ ‡§π‡•ã ‡§§‡•ã ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§ó‡§æ) 
const EMBED_SOURCES = [
    { name: 'vidsrc.to', url: (id) => `https://vidsrc.to/embed/movie/${id}` },
    { name: '2embed.cc', url: (id) => `https://www.2embed.cc/embed/${id}` },
    { name: 'multiembed.mov', url: (id) => `https://multiembed.mov/?video_id=${id}` },
    { name: 'superembed', url: (id) => `https://multiembed.mov/directstream.php?video_id=${id}` },
    { name: 'gomo.to', url: (id) => `https://gomo.to/movie/${id}` },
    { name: 'vidsrc.me', url: (id) => `https://vidsrc.me/embed/movie?imdb=tt15398776` }
];

// ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§Ü‡§à‡§°‡•Ä (‡§π‡§∞ ‡§è‡§®‡•Ä‡§Æ‡•á ‡§ï‡•á ‡§≤‡§ø‡§è) 
function getVideoId(animeId, episodeNum) {
    // ‡§Ö‡§∏‡§≤‡•Ä ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡§æ‡§Ø‡§®‡•á‡§Æ‡§ø‡§ï ‡§Ü‡§à‡§°‡•Ä
    const videoIds = {
        1: 'tt15398776', // FMAB
        2: 'tt1318022', // Steins;Gate
        3: 'tt0213338', // Cowboy Bebop
        4: 'tt2560140', // AOT
        5: 'tt0877057', // Death Note
        6: 'tt0388629', // One Piece
        7: 'tt0409591', // Naruto
        8: 'tt0988824', // Naruto Shippuden
        9: 'tt0280249', // DBZ
        10: 'tt9335498', // Demon Slayer
        11: 'tt12343534', // Jujutsu Kaisen
        12: 'tt18515974', // Chainsaw Man
        13: 'tt2098220', // Hunter x Hunter
        14: 'tt13103194', // Mushoku Tensei
        15: 'tt5363108', // Re:Zero
        16: 'tt9052876', // Slime
        17: 'tt0962745', // Mushishi
        18: 'tt7232154', // Made in Abyss
        19: 'tt2250192', // SAO
        20: 'tt0994314', // Code Geass
        21: 'tt0434665', // Bleach
        22: 'tt13196080', // Tokyo Revengers
        23: 'tt5626028', // MHA
        24: 'tt7441658', // Black Clover
        25: 'tt1123883', // Fairy Tail
        26: 'tt0318871', // Berserk
        27: 'tt10233448', // Vinland Saga
        28: 'tt5897304', // Mob Psycho
        29: 'tt4508902', // One Punch Man
        30: 'tt13706018', // Spy x Family
        31: 'tt3398540', // Haikyuu
        32: 'tt3021728', // Parasyte
        33: 'tt3952332', // Erased
        34: 'tt3895150' // Your Lie in April
    };
    return videoIds[animeId] || 'tt15398776';
}

                // ============================================
    // ‡§∏‡§æ‡§∞‡•á ‡§è‡§®‡•Ä‡§Æ‡•á ‡§¶‡§ø‡§ñ‡§æ‡§ì
    // ============================================
    function displayAnime(animeList) {
        const container = document.getElementById('animeContainer');
        container.innerHTML = '';
        
        animeList.forEach(anime => {
            const animeDiv = document.createElement('div');
            animeDiv.className = 'mb-8';
            
            // ‡§è‡§®‡•Ä‡§Æ‡•á ‡§ï‡§æ ‡§ü‡§æ‡§á‡§ü‡§≤
            animeDiv.innerHTML = `<h2 class="text-xl font-bold my-4 flex items-center"><span class="bg-red-600 w-1.5 h-6 mr-3 rounded-full"></span>üî• ${anime.title} (${anime.episodes} ‡§è‡§™‡§ø‡§∏‡•ã‡§°)</h2>`;
            
            // ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§ó‡•ç‡§∞‡§ø‡§°
            const episodesGrid = document.createElement('div');
            episodesGrid.className = 'anime-grid';
            
            // 12 ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§§‡§ï ‡§¶‡§ø‡§ñ‡§æ‡§ì (‡§¨‡§æ‡§ï‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è "‡§î‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç" ‡§¨‡§ü‡§®)
            const maxEpisodes = Math.min(anime.episodes, 12);
            for (let i = 1; i <= maxEpisodes; i++) {
                const card = document.createElement('div');
                card.className = 'anime-card';
                card.innerHTML = `
                    <img src="${anime.image}" alt="${anime.title}">
                    <div class="anime-card-content">
                        <div class="anime-title">${anime.title}</div>
                        <div class="anime-episodes">‡§è‡§™‡§ø‡§∏‡•ã‡§° ${i}</div>
                        <div class="anime-year">${anime.year} ‚Ä¢ ‚≠ê ${anime.rating}</div>
                    </div>
                `;
                
                card.onclick = () => playEpisode(anime, i);
                episodesGrid.appendChild(card);
            }
            
            // "‡§î‡§∞ ‡§è‡§™‡§ø‡§∏‡•ã‡§°" ‡§¨‡§ü‡§® (‡§Ö‡§ó‡§∞ 12 ‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à‡§Ç)
            if (anime.episodes > 12) {
                const moreBtn = document.createElement('button');
                moreBtn.className = 'text-center w-full py-2 my-2 bg-gray-800 rounded hover:bg-gray-700';
                moreBtn.innerText = `üì∫ ‡§¨‡§æ‡§ï‡•Ä ‡§ï‡•á ${anime.episodes - 12} ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç...`;
                moreBtn.onclick = () => showAllEpisodes(anime);
                episodesGrid.appendChild(moreBtn);
            }
            
            animeDiv.appendChild(episodesGrid);
            container.appendChild(animeDiv);
        });
    }

    // ============================================
    // ‡§∏‡§æ‡§∞‡•á ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§¶‡§ø‡§ñ‡§æ‡§ì
    // ============================================
    function showAllEpisodes(anime) {
        const container = document.getElementById('animeContainer');
        container.innerHTML = '';
        
        const animeDiv = document.createElement('div');
        animeDiv.className = 'mb-8';
        animeDiv.innerHTML = `<h2 class="text-xl font-bold my-4 flex items-center"><span class="bg-red-600 w-1.5 h-6 mr-3 rounded-full"></span>üî• ${anime.title} - ‡§∏‡§æ‡§∞‡•á ${anime.episodes} ‡§è‡§™‡§ø‡§∏‡•ã‡§°</h2>`;
        
        const episodesGrid = document.createElement('div');
        episodesGrid.className = 'anime-grid';
        
        for (let i = 1; i <= anime.episodes; i++) {
            const card = document.createElement('div');
            card.className = 'anime-card';
            card.innerHTML = `
                <img src="${anime.image}" alt="${anime.title}">
                <div class="anime-card-content">
                    <div class="anime-title">${anime.title}</div>
                    <div class="anime-episodes">‡§è‡§™‡§ø‡§∏‡•ã‡§° ${i}</div>
                    <div class="anime-year">${anime.year} ‚Ä¢ ‚≠ê ${anime.rating}</div>
                </div>
            `;
            
            card.onclick = () => playEpisode(anime, i);
            episodesGrid.appendChild(card);
        }
        
        animeDiv.appendChild(episodesGrid);
        container.appendChild(animeDiv);
    }

    // ============================================
    // ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§™‡•ç‡§≤‡•á ‡§ï‡§∞‡•ã (‡§è‡§Æ‡•ç‡§¨‡•á‡§° ‡§ï‡•á ‡§∏‡§æ‡§•)
    // ============================================
    function playEpisode(anime, episodeNum) {
        document.getElementById('player').style.display = 'flex';
        document.getElementById('playerTitle').innerText = `${anime.title} - ‡§è‡§™‡§ø‡§∏‡•ã‡§° ${episodeNum}`;
        
        // ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§¨‡§æ‡§∞ ‡§¨‡§®‡§æ‡§ì
        const episodesBar = document.getElementById('episodesBar');
        episodesBar.innerHTML = '';
        
        // ‡§™‡§æ‡§∏ ‡§ï‡•á 10 ‡§è‡§™‡§ø‡§∏‡•ã‡§° ‡§¶‡§ø‡§ñ‡§æ‡§ì
        const start = Math.max(1, episodeNum - 5);
        const end = Math.min(anime.episodes, episodeNum + 5);
        
        for (let i = start; i <= end; i++) {
            const btn = document.createElement('button');
            btn.className = `episode-btn ${i === episodeNum ? 'active' : ''}`;
            btn.innerText = `Ep ${i}`;
            btn.onclick = () => playEpisode(anime, i);
            episodesBar.appendChild(btn);
        }

        // 6 ‡§è‡§Æ‡•ç‡§¨‡•á‡§° ‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§è‡§ï ‡§ï‡•ã ‡§∞‡•à‡§Ç‡§°‡§Æ‡§≤‡•Ä ‡§ö‡•Å‡§®‡•ã 
        const videoId = getVideoId(anime.id, episodeNum);
        const randomSource = EMBED_SOURCES[Math.floor(Math.random() * EMBED_SOURCES.length)];
        const embedUrl = randomSource.url(videoId);
        
        document.getElementById('embed-player').src = embedUrl;
        console.log(`üé¨ ‡§™‡•ç‡§≤‡•á‡§á‡§Ç‡§ó: ${anime.title} Ep ${episodeNum} via ${randomSource.name}`);
    }

    // ============================================
    // ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä ‡§ï‡•á ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§∏‡•á ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•ã
    // ============================================
    function filterAnime(category, element) {
        document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
        element.classList.add('active');
        
        let filtered = [];
        if (category === 'all') {
            filtered = trendingAnime;
        } else {
            filtered = trendingAnime.filter(anime => anime.category === category);
        }
        
        displayAnime(filtered);
    }

    // ============================================
    // ‡§™‡•ç‡§≤‡•á‡§Ø‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•ã
    // ============================================
    function closePlayer() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('embed-player').src = '';
    }

    // ============================================
    // ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®‡•ç‡§∏
    // ============================================
    function showHome() {
        document.getElementById('home').classList.remove('hide');
        closePlayer();
        displayAnime(trendingAnime);
    }

    function resetToHome() {
        showHome();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ============================================
    // ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§Ö‡§™ ‡§™‡§∞ ‡§∏‡§æ‡§∞‡•á ‡§è‡§®‡•Ä‡§Æ‡•á ‡§≤‡•ã‡§° ‡§ï‡§∞‡•ã
    // ============================================
    window.onload = function() {
        displayAnime(trendingAnime);
        console.log(`‚úÖ ${trendingAnime.length} ‡§è‡§®‡•Ä‡§Æ‡•á ‡§∏‡•Ä‡§∞‡•Ä‡§ú ‡§≤‡•ã‡§° ‡§π‡•ã ‡§ó‡§à‡§Ç!`);
    };
</script>
</body>
</html>
