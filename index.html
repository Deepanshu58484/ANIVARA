02.22 10:18 PM
Index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimeStream - Watch Free Anime</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        *{margin:0; padding:0; box-sizing:border-box;}
        body{background:#0b0f1a; color:white; font-family: 'Segoe UI', sans-serif;}
        .card{background:#1a1e2b; border-radius:10px; overflow:hidden; cursor:pointer; transition:0.3s;}
        .card:hover{transform:scale(1.05);}
        .navbar{background:#1a1e2b; padding:15px 20px; position:sticky; top:0; z-index:100;}
        .player{
            position:fixed; top:0; left:0; width:100%; height:100%; background:black; z-index:1000; display:none;
        }
        .player-header{
            display:flex; justify-content:space-between; padding:15px; background:#111;
        }
        #youtube-player{width:100%; height:100%;}
        .loading{
            position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:black; padding:20px; z-index:2000;
        }
        .admin-input{
            width:100%; padding:10px; margin:10px 0; background:#2a2f3f; border:none; color:white; border-radius:5px;
        }
        .btn{
            background:#e50914; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer;
        }
        .hide{display:none !important;}
    </style>
</head>
<body>

<!--  VIDEO PLAYER -->
<div class="player" id="player">
    <div class="player-header">
        <h3 id="playerTitle">Now Playing</h3>
        <button onclick="closePlayer()" class="btn" style="background:#333;">Close</button>
    </div>
    <div id="youtube-player"></div>
</div>

<!--  LOADING -->
<div class="loading hide" id="loading">
    <h3>Loading Video...</h3>
</div>

<!--  NAVBAR -->
<div class="navbar">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2 style="color:#ffd700; font-size:24px; cursor:pointer;" onclick="showSection('home')"> AnimeStream</h2>
        <div>
            <button onclick="showSection('home')" class="btn" style="margin-right:10px;">Home</button>
            <button onclick="showSection('admin')" class="btn" style="background:#4CAF50;">Admin</button>
        </div>
    </div>
</div>

<!--  MAIN CONTENT -->
<div class="container" style="max-width:1200px; margin:20px auto; padding:0 15px;">

    <!-- HOME SECTION -->
    <div id="homeSection">
        <h2 style="font-size:22px; margin-bottom:20px;"> Latest Anime</h2>
        <div id="animeGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(200px,1fr)); gap:20px;"></div>
    </div>
    
    <!-- ADMIN SECTION (HIDDEN) -->
    <div id="adminSection" class="hide">
        <h2 style="font-size:22px; margin-bottom:20px;"> Admin Panel</h2>
        
        <div style="background:#1a1e2b; padding:20px; border-radius:10px; margin-bottom:20px;">
            <h3 style="margin-bottom:15px;">➕ Add New Anime</h3>
            <input type="text" id="aniTitle" class="admin-input" placeholder="Anime Title (e.g., Naruto)">
            <input type="text" id="aniPoster" class="admin-input" placeholder="Poster Image URL">
            <input type="text" id="aniVideoId" class="admin-input" placeholder="YouTube Video ID">
            <button onclick="addAnime()" class="btn">Add Anime</button>
        </div>
        
        <div style="background:#1a1e2b; padding:20px; border-radius:10px;">
            <h3 style="margin-bottom:15px;"> Current Anime List</h3>
            <div id="adminList"></div>
        </div>
    </div>
    
</div>

<script>
//  FIREBASE INIT
firebase.initializeApp({
    apiKey: "AIzaSyD1-qQQK126gMt2XrRffU0W0_ReRxB5sXI",
    authDomain: "anime-ki-duniya-695c4.firebaseapp.com",
    databaseURL: "https://anime-ki-duniya-695c4-default-rtdb.firebaseio.com",
    projectId: "anime-ki-duniya-695c4"
});

const db = firebase.database();
let ytPlayer = null;
let isAdmin = false;

//  YOUTUBE PLAYER
function onYouTubeIframeAPIReady() {
    console.log('YouTube API Ready');
}

function playVideo(videoId, title) {
    if (!videoId) return alert('No video ID!');
    
    document.getElementById('loading').classList.remove('hide');
    document.getElementById('playerTitle').innerText = title || 'Playing';
    document.getElementById('player').style.display = 'flex';
    
    if (ytPlayer) {
        ytPlayer.loadVideoById(videoId);
        document.getElementById('loading').classList.add('hide');
    } else {
        ytPlayer = new YT.Player('youtube-player', {
            videoId: videoId,
            width: '100%', height: '100%',
            playerVars: { autoplay: 1, controls: 1 },
            events: { onReady: () => document.getElementById('loading').classList.add('hide') }
        });
    }
}

function closePlayer() {
    document.getElementById('player').style.display = 'none';
    if (ytPlayer) ytPlayer.stopVideo();
}

//  LOAD ANIME
function loadAnime() {
    const grid = document.getElementById('animeGrid');
    grid.innerHTML = 'Loading...';
    
    db.ref('anime').on('value', (snap) => {
        grid.innerHTML = '';
        
        snap.forEach((child) => {
            const anime = child.val();
            const id = child.key;
            
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <img src="${anime.poster}" style="width:100%; height:250px; object-fit:cover;">
                <div style="padding:10px;">
                    <h3 style="font-size:16px;">${anime.title}</h3>
                </div>
            `;
            
            card.onclick = () => playVideo(anime.videoId, anime.title);
            grid.appendChild(card);
        });
    });
}

//  ADMIN FUNCTIONS
function showSection(section) {
    document.getElementById('homeSection').classList.add('hide');
    document.getElementById('adminSection').classList.add('hide');
    document.getElementById(section + 'Section').classList.remove('hide');
    
    if (section === 'admin') {
        isAdmin = prompt('Enter Admin Password:') === 'admin123';
        if (!isAdmin) {
            alert('Wrong password!');
            showSection('home');
        } else {
            loadAdminList();
        }
    }
}

function addAnime() {
    const title = document.getElementById('aniTitle').value;
    const poster = document.getElementById('aniPoster').value;
    const videoId = document.getElementById('aniVideoId').value;
    
    if (!title || !poster || !videoId) {
        alert('All fields required!');
        return;
    }
    
    db.ref('anime').push({
        title: title,
        poster: poster,
        videoId: videoId,
        addedAt: Date.now()
    }).then(() => {
        alert('Anime added!');
        document.getElementById('aniTitle').value = '';
        document.getElementById('aniPoster').value = '';
        document.getElementById('aniVideoId').value = '';
        loadAdminList();
    });
}

function loadAdminList() {
    const list = document.getElementById('adminList');
    db.ref('anime').on('value', (snap) => {
        list.innerHTML = '';
        snap.forEach((child) => {
            const anime = child.val();
            list.innerHTML += `
                <div style="background:#2a2f3f; padding:10px; margin:5px 0; display:flex; justify-content:space-between;">
                    <span>${anime.title}</span>
                    <button onclick="deleteAnime('${child.key}')" style="background:#ff4444; border:none; color:white; padding:2px 10px;">Delete</button>
                </div>
            `;
        });
    });
}

function deleteAnime(id) {
    if (confirm('Delete this anime?')) {
        db.ref('anime/' + id).remove();
    }
}

//  SAMPLE DATA
function addSampleData() {
    db.ref('anime').once('value', (snap) => {
        if (!snap.exists()) {
            const samples = [
                { title: 'Naruto', poster: 'https://cdn.myanimelist.net/images/anime/13/17405.jpg', videoId: 'RgKAFK5djSk' },
                { title: 'One Piece', poster: 'https://cdn.myanimelist.net/images/anime/6/73245.jpg', videoId: 'S8_YwFLCh4U' },
                { title: 'Demon Slayer', poster: 'https://cdn.myanimelist.net/images/anime/1286/99889.jpg', videoId: 'VQGCKyvzIM4' }
            ];
            samples.forEach(s => db.ref('anime').push(s));
        }
    });
}

//  INIT
window.onload = () => {
    loadAnime();
    addSampleData();
};
</script>

</body>
</html>
